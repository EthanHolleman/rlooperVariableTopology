import pandas as pd

conditions = pd.read_csv('workflow/conditions.tsv', sep='\t')

runs = expand(
    expand(
        'output/rlooper/{plasmid}/{plasmid}.{condition}.sigma{sigma}.{orrientation}/{plasmid}.{condition}.sigma{sigma}.{orrientation}.wig',
        zip, allow_missing=True, plasmid=list(conditions['plasmid']), condition=list(conditions['condition_name']),
        sigma=list(conditions['sigma'])
        ), orrientation=['fwd', 'rev']
    )

include: 'rules/rlooper.smk'

rule all:
    input:
        runs
    